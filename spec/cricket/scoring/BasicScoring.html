<html xmlns:c="http://www.concordion.org/2007/concordion">
<link href="../../concordion.css" rel="stylesheet" type="text/css" />
<head><title>Basic Scoring</title></head>
<body>
 
<h1>Basic Scoring</h1>

<p>As a Cricket Scorer, I want an application to help me add the scores so the score is always up to date.</p>

<ul>
	<li>I can enter the score for each ball.</li>
	<li>I can view the score card for all balls to date.</li> 
	<li>I can view the total runs scored to date.</li>
	<li>I can amend mistakes to the score for the previous ball.</li>
</ul>

<h4>Extra Detail</h4>
<p>A "dot ball" scores 0 runs. "Dot ball"s are entered as a full stop.</p>
<p>The batsman can also score 1 to 6 runs for each ball, entered numerically.</p>

<div class="example">
<h3>Example - Scoring</h3>
<p><span c:execute="startInnings()">Given a new innings</span><br/>
When I enter the following scores in order<br/>
Then the Score Card and Total Runs Scored are accumulated as shown.</p>
<table c:execute="#result = enterScore(#entry)">
  <tr>
    <th c:set="#entry">Entry</th>
    <th c:assertEquals="#result.card">Score Card</th>
    <th c:assertEquals="#result.score">Total Runs Scored</th>
  </tr>
  <tr>
    <td>.</td>
    <td>.</td>
    <td>0</td>
  </tr>
  <tr>
    <td>1</td>
    <td>.1</td>
    <td>1</td>
  </tr>
  <tr>
    <td>3</td>
    <td>.13</td>
    <td>4</td>
  </tr>
  <tr>
    <td>.</td>
    <td>.13.</td>
    <td>4</td>
  </tr>
  <tr>
    <td>6</td>
    <td>.13.6</td>
    <td>10</td>
  </tr>
</table>
</div>

<div class="example">
<h3>Example - Amending a mistake to the previous ball</h3>
<p><span c:execute="startInnings(#entry)">Given I entered '<span c:set="#entry">2</span>' for the first ball of an innings</span> and I should have entered '3'<br/>
When I <span c:execute="eraseLastEntry()">erase</span> the '2' and enter '<span c:execute="#result = enterScore(#TEXT)">3</span>'<br/>
Then the Score Card should show '<span c:assertEquals="#result.card">3</span>' and the Total Runs Scored should show '<span c:assertEquals="#result.score">3</span>'.</p>
</div>

<div class="example">
<h3>Example - Amending a mistake to multiple balls</h3>
<p><span c:execute="startInnings(#entry)">Given I entered '<span c:set="#entry">2..14</span>' at the start of an innings</span> and I should have entered '2..34'<br/>
When I <span c:execute="eraseLastnEntries(#n)">erase the last <span c:set="#n">2</span> entries</span> and enter '<span c:execute="#result = enterScore(#TEXT)">34</span>'<br/>
Then the Score Card should show '<span c:assertEquals="#result.card">2..34</span>' and the Total Runs Scored should show '<span c:assertEquals="#result.score">9</span>'.</p>
</div>

</body>
</html>